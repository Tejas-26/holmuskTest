

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>lib.resultGraph package &mdash; src  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="lib.testLib package" href="lib.testLib.html" />
    <link rel="prev" title="lib.databaseIO package" href="lib.databaseIO.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> src
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="holmuskTest.html">holmuskTest module</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="lib.html">lib package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="lib.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="lib.argParsers.html">lib.argParsers package</a></li>
<li class="toctree-l3"><a class="reference internal" href="lib.celery.html">lib.celery package</a></li>
<li class="toctree-l3"><a class="reference internal" href="lib.celeryWorkerExample.html">lib.celeryWorkerExample package</a></li>
<li class="toctree-l3"><a class="reference internal" href="lib.databaseIO.html">lib.databaseIO package</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">lib.resultGraph package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-lib.resultGraph.graphLib">lib.resultGraph.graphLib module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-lib.resultGraph">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="lib.testLib.html">lib.testLib package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lib.html#module-lib">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="logs.html">logs package</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">modules package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">src</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="lib.html">lib package</a> &raquo;</li>
        
      <li>lib.resultGraph package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/lib.resultGraph.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="lib-resultgraph-package">
<h1>lib.resultGraph package<a class="headerlink" href="#lib-resultgraph-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-lib.resultGraph.graphLib">
<span id="lib-resultgraph-graphlib-module"></span><h2>lib.resultGraph.graphLib module<a class="headerlink" href="#module-lib.resultGraph.graphLib" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="lib.resultGraph.graphLib.generateGraph">
<code class="sig-prename descclassname">lib.resultGraph.graphLib.</code><code class="sig-name descname">generateGraph</code><span class="sig-paren">(</span><em class="sig-param">logger</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lib/resultGraph/graphLib.html#generateGraph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.resultGraph.graphLib.generateGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>generate a directed graph from the modules config</p>
<p>generate a networkX.Graph object by reading the contents
of the <code class="docutils literal notranslate"><span class="pre">config/modules/</span></code> folder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>logger</strong> (<em>{logging.logger}</em>) – logging element</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Graph of which object is created when</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>networkX.Graph object</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="lib.resultGraph.graphLib.generateSubGraph">
<code class="sig-prename descclassname">lib.resultGraph.graphLib.</code><code class="sig-name descname">generateSubGraph</code><span class="sig-paren">(</span><em class="sig-param">logger</em>, <em class="sig-param">graph</em>, <em class="sig-param">keyNode</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lib/resultGraph/graphLib.html#generateSubGraph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.resultGraph.graphLib.generateSubGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>generate a subgraph that contains all prior nodes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>logger</strong> (<em>{logging.logger}</em>) – logging element</p></li>
<li><p><strong>graph</strong> (<em>{networkX.Graph object}</em>) – [description]</p></li>
<li><p><strong>keyNode</strong> (<em>{str}</em>) – Name of the node whose ancestors need to be geenrated.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>graph containing the particular node and its ancistors.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>networkX.Graph object</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="lib.resultGraph.graphLib.graphToSerialized">
<code class="sig-prename descclassname">lib.resultGraph.graphLib.</code><code class="sig-name descname">graphToSerialized</code><span class="sig-paren">(</span><em class="sig-param">logger</em>, <em class="sig-param">graph</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lib/resultGraph/graphLib.html#graphToSerialized"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.resultGraph.graphLib.graphToSerialized" title="Permalink to this definition">¶</a></dt>
<dd><p>serializes a graph</p>
<p>Takes a networkX.Graph object and converts it into a serialized
set of nodes and edges.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>logger</strong> (<em>{logging.logger}</em>) – logging element</p></li>
<li><p><strong>graph</strong> (<em>{networkX.Graph object}</em>) – A networkX graph object that is to be serialized</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This is a tuple of nodes and edges in a serialized format
that can be later directly inserted into a database.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple of serialized lists</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="lib.resultGraph.graphLib.plotGraph">
<code class="sig-prename descclassname">lib.resultGraph.graphLib.</code><code class="sig-name descname">plotGraph</code><span class="sig-paren">(</span><em class="sig-param">logger</em>, <em class="sig-param">graph</em>, <em class="sig-param">fileName=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lib/resultGraph/graphLib.html#plotGraph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.resultGraph.graphLib.plotGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>plot the graph</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>logger</strong> (<em>{logging.logger}</em>) – logging element</p></li>
<li><p><strong>graph</strong> (<em>{networkX.Graph object}</em>) – The graph that needs to be plotted</p></li>
<li><p><strong>fileName</strong> (<em>{str}</em><em>, </em><em>optional</em>) – name of the file where to save the graph (the default is None, which
results in no graph being generated)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="lib.resultGraph.graphLib.serializedToGraph">
<code class="sig-prename descclassname">lib.resultGraph.graphLib.</code><code class="sig-name descname">serializedToGraph</code><span class="sig-paren">(</span><em class="sig-param">logger</em>, <em class="sig-param">nodes</em>, <em class="sig-param">edges</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lib/resultGraph/graphLib.html#serializedToGraph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.resultGraph.graphLib.serializedToGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>deserialize a graph serialized earlier</p>
<p>Take serialized versions of the nodes and edges which is
produced by the function <code class="docutils literal notranslate"><span class="pre">graphToSerialized</span></code> and convert
that into a normal <code class="docutils literal notranslate"><span class="pre">networkX</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>logger</strong> (<em>{logging.logger}</em>) – logging element</p></li>
<li><p><strong>nodes</strong> (<em>{list}</em>) – serialized versions of the nodes of a graph</p></li>
<li><p><strong>edges</strong> (<em>{list}</em>) – A list of edges in a serialized form</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Takes a list of serialized nodes and edges and converts it
into a networkX.Graph object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>networkX.Graph object</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="lib.resultGraph.graphLib.uploadGraph">
<code class="sig-prename descclassname">lib.resultGraph.graphLib.</code><code class="sig-name descname">uploadGraph</code><span class="sig-paren">(</span><em class="sig-param">logger</em>, <em class="sig-param">graph</em>, <em class="sig-param">dbName=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lib/resultGraph/graphLib.html#uploadGraph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.resultGraph.graphLib.uploadGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>upload the supplied graph to a database</p>
<p>Given a graph, this function is going to upload the graph into
a particular database. In case a database is not specified, this
will try to upload the data into the default database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>logger</strong> (<em>{logging.logger}</em>) – logging element</p></li>
<li><p><strong>graph</strong> (<em>{networkX graph}</em>) – The graph that needs to be uploaded into the database</p></li>
<li><p><strong>dbName</strong> (<em>{str}</em><em>, </em><em>optional</em>) – The name of the database in which to upload the data into. This
is the identifier within the <code class="docutils literal notranslate"><span class="pre">db.json</span></code> configuration file. (the
default is <code class="docutils literal notranslate"><span class="pre">None</span></code>, which would use the default database specified
within the same file)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-lib.resultGraph">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-lib.resultGraph" title="Permalink to this headline">¶</a></h2>
<p>Utilities for generating graphs</p>
<p>This provides a set of utilities that will allow us to geenrate a
girected graph. This assumes that configuration files for all the
modules are present in the <code class="docutils literal notranslate"><span class="pre">config/modules/</span></code> folder. The files
should be JSON files with the folliwing specifications:</p>
<div class="highlight-JSON notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;inputs&quot;</span>  <span class="p">:</span> <span class="p">{},</span>
    <span class="nt">&quot;outputs&quot;</span> <span class="p">:</span> <span class="p">{},</span>
    <span class="nt">&quot;params&quot;</span>  <span class="p">:</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">inputs</span></code> and the <code class="docutils literal notranslate"><span class="pre">outputs</span></code> refer to the requirements of the
module and the result of the module. Both can be empty, but in that
case, they should be represented by empty dictionaries as shown above.</p>
<p>All the configuration paramethers for a particular module should go
into the dictionary that is referred to by the keyword <code class="docutils literal notranslate"><span class="pre">params</span></code>.</p>
<p>An examples of what can possibly go into the <code class="docutils literal notranslate"><span class="pre">inputs</span></code> and <code class="docutils literal notranslate"><span class="pre">outputs</span></code>
is as follows:</p>
<div class="highlight-JSON notranslate"><div class="highlight"><pre><span></span>&quot;inputs&quot;: {
    &quot;abc1&quot;:{
        &quot;type&quot;        : &quot;file-csv&quot;,
        &quot;location&quot;    : &quot;../data/abc1.csv&quot;,
        &quot;description&quot; : &quot;describe how the data is arranged&quot;
    }
},
&quot;outputs&quot; : {
    &quot;abc2&quot;:{
        &quot;type&quot;        : &quot;dbTable&quot;,
        &quot;location&quot;    : &quot;&lt;dbName.schemaName.tableName&gt;&quot;
        &quot;dbHost&quot;      : &quot;&lt;dbHost&gt;&quot;,
        &quot;dbPort&quot;      : &quot;&lt;dbHost&gt;&quot;,
        &quot;dbName&quot;      : &quot;&lt;dbName&gt;&quot;,
        &quot;description&quot; : &quot;description of the table&quot;
    },
    &quot;abc3&quot;:{
        &quot;type&quot;        : &quot;file-png&quot;,
        &quot;location&quot;    : &quot;../reports/img/Fig1.png&quot;,
        &quot;description&quot; : &quot;some description of the data&quot;
    }
},
&quot;params&quot; : {}
</pre></div>
</div>
<p>In the above code block, the module will comprise of a single input with
the name <code class="docutils literal notranslate"><span class="pre">abc1</span></code> and outputs with names <code class="docutils literal notranslate"><span class="pre">abc2</span></code> and <code class="docutils literal notranslate"><span class="pre">abc3</span></code>. Each of
these objects are associated with two mandatory fields: <code class="docutils literal notranslate"><span class="pre">type</span></code> and
<code class="docutils literal notranslate"><span class="pre">location</span></code>. Each <code class="docutils literal notranslate"><span class="pre">type</span></code> will typically have a meaningful <code class="docutils literal notranslate"><span class="pre">location</span></code>
argument associated with it.</p>
<div class="section" id="example-type-s-and-their-corresponding-location-argument">
<h3>Example <code class="docutils literal notranslate"><span class="pre">type``s</span> <span class="pre">and</span> <span class="pre">their</span> <span class="pre">corresponding</span> <span class="pre">``location</span></code> argument:<a class="headerlink" href="#example-type-s-and-their-corresponding-location-argument" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><p>“file-file”         : “&lt;string containing the location&gt;”,</p></li>
<li><p>“file-fig”          : “&lt;string containing the location&gt;”,</p></li>
<li><p>“file-csv”          : “&lt;string containing the location&gt;”,</p></li>
<li><p>“file-hdf5”         : “&lt;string containing the location&gt;”,</p></li>
<li><p>“file-meta”         : “&lt;string containing the location&gt;”,</p></li>
<li><p>“folder-checkPoint” : “&lt;string containing the folder&gt;”,</p></li>
<li><p>“DB-dbTable”        : “&lt;dbName.schemaName.tableName&gt;”,</p></li>
<li><p>“DB-dbColumn”       : “&lt;dbName.schemaName.tableName.columnName&gt;”</p></li>
</ul>
</div></blockquote>
<p>You are welcome to generate new <code class="docutils literal notranslate"><span class="pre">types``s.</span> <span class="pre">Note</span> <span class="pre">that</span> <span class="pre">anything</span> <span class="pre">starting</span> <span class="pre">with</span> <span class="pre">a</span> <span class="pre">``file-</span></code>
represents a file within your folder structure. Anything starting with <code class="docutils literal notranslate"><span class="pre">folder-</span></code>
represents a folder. Examples of these include checkpoints of Tensorflow models during
training, etc. Anything starting with a <code class="docutils literal notranslate"><span class="pre">DB-</span></code> represents a traditional database like
Postgres.</p>
<p>It is particularly important to name the different inputs and outputs consistently
throughout, and this is going to help link the different parts of the graph together.</p>
<p>There are functions that allow graphs to be written to the database, and subsequently
retreived. It would then be possible to generate graphs from the entire set of modules.
Dependencies can then be tracked across different progeams, not just across different
modules.</p>
</div>
<div class="section" id="uploading-graphs-to-databases">
<h3>Uploading graphs to databases:<a class="headerlink" href="#uploading-graphs-to-databases" title="Permalink to this headline">¶</a></h3>
<p>It is absolutely possible that you would like to upload the graphs into dataabses. This
can be done if the current database that you are working with has the following tables:</p>
<div class="highlight-SQL notranslate"><div class="highlight"><pre><span></span><span class="k">create</span> <span class="k">schema</span> <span class="k">if</span> <span class="k">not</span> <span class="k">exists</span> <span class="n">graphs</span><span class="p">;</span>

<span class="k">create</span> <span class="k">table</span> <span class="n">graphs</span><span class="p">.</span><span class="n">nodes</span> <span class="p">(</span>
    <span class="n">program_name</span>     <span class="nb">text</span><span class="p">,</span>
    <span class="n">now</span>              <span class="k">timestamp</span> <span class="k">with</span> <span class="n">time</span> <span class="k">zone</span><span class="p">,</span>
    <span class="n">node_name</span>        <span class="nb">text</span><span class="p">,</span>
    <span class="n">node_type</span>        <span class="nb">text</span><span class="p">,</span>
    <span class="n">summary</span>          <span class="nb">text</span>
<span class="p">);</span>

<span class="k">create</span> <span class="k">table</span> <span class="n">graphs</span><span class="p">.</span><span class="n">edges</span> <span class="p">(</span>
    <span class="n">program_name</span>     <span class="nb">text</span><span class="p">,</span>
    <span class="n">now</span>              <span class="k">timestamp</span> <span class="k">with</span> <span class="n">time</span> <span class="k">zone</span><span class="p">,</span>
    <span class="n">node_from</span>        <span class="nb">text</span><span class="p">,</span>
    <span class="n">node_to</span>          <span class="nb">text</span>
<span class="p">);</span>
</pre></div>
</div>
<p>There are functions provided that will be able to take the entire graph and upload them
directly into the databases.</p>
<div class="section" id="available-graph-libraries">
<h4>Available Graph Libraries:<a class="headerlink" href="#available-graph-libraries" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">graphLib</span></code>: General purpose libraries for constructing graphs from the module</dt><dd><p>configurations.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="lib.testLib.html" class="btn btn-neutral float-right" title="lib.testLib package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="lib.databaseIO.html" class="btn btn-neutral float-left" title="lib.databaseIO package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Author

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>